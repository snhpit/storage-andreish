<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Puzzle</title>
    <script type="text/javascript" src="Scripts/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="Scripts/jquery.tmpl.js"></script>

    <script id="squareTemplate" type="text/x-jquery-tmpl">
        {{each indexes}}
            <div class="square">
                <span>${$index}</span>
            </div>
        {{/each}}
    </script>
    <script type="text/javascript">
        $("#compile").click(function () {
            if (verifyInputData(inputData) !== NaN) {
                numbering();
                compilePuzzleBox();
                $("#squareTemplate").tmpl(data).appendTo(".centerwrapper");
            }
        });

        var inputData = $("#textInput").value;
        var numberOfSquares = getNumber();
        var data = { indexes: [] };

        function getNumber() {
            return Math.pow(inputData, 2);
        }

        function verifyInputData(value) {
            if (isNaN(+value) && value > 1) {
                inputData = value;
            }
        }

        function numbering() {
            var X = numberOfSquares - 1;
            for (var i = 0; i <= X; i++) {
                data.indexes[i] = i + 1;
            }
            data.indexes[numberOfSquares] = 0;
        }

        function compilePuzzleBox() {
            var width = $("div.square").css("width");
            $("#puzzle-box").css("width", width * numberOfSquares);
            $("#puzzle-box").css("height", width * numberOfSquares);
        }

    </script>
    <link rel="stylesheet" href="Styles/puzzle.css" type="text/css">
</head>
<body>

<input type="text" id="textInput"></div>
<input type="button" id="compile" name="compileGame" value="assemble">
<div id="puzzle-box">
    <div class="centerwrapper"></div>
</div>
<input type="button" id="reset" name="restartGame" value="New game"></button>

</body>
</html>
